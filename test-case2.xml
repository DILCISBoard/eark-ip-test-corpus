<!-- Root element for an individual test case, allows these to be wrapped into
XML lists -->
<testCase testable="TRUE">
  <!-- Unique ID for the test case -->
  <id specification="E-ARK CSIP" version="2.0-DRAFT" section="dmdSec" requirementId="CSIP17"/>
  <!-- URL references to requirements for convenient lookup -->
  <references>
    <reference requirementId="http://earkcsip.dilcis.eu/#CSIP17"/>
  </references>
  <!-- Textual description of the test case, may just be a repeat of the
  requirment text. -->
  <description>This testcase is for requirement CSIP17, which relates to descriptive metadata; the
    optional dmdSec elements in the mets.xml file and to the optional files in the folder
    metadata/descriptive. The requirement CSIP17 is not stringent and therefore difficult to test,
    it is based on conditions and optional elements Quote from CSIP17: Must be used if descriptive
    metadata for the package content is available. Each descriptive metadata section (dmdSec)
    contains one description and thus is repeated when more descriptions are available. It is
    possible to transfer metadata in a package using just the descriptive metadata sectiond/or
    adminstrative metadata section.</description>
  <!-- List of requirments that this test case depends on in addition to the
  main requirememt, e.g. general requirments on the form of IDs -->
  <dependencies>
    <!-- Individual test case dependencies listed by ID -->
    <dependency requirement="CSIPSTR7"/>
  </dependencies>
  <!-- A list of the validation rules derived from the test case -->
  <rules>
    <!-- Individual validation rule entry, identified by a running number that's unique within the test case only -->

    <!-- Rule for the existence of a dmdSec element in mets.xml -->
    <rule id="1">
      <!-- Text description of the validation rule -->
      <description>There should be an XML element named dmdSec in the mets.xml</description>
      <!-- Details of the validation error generated by the message, can be one of: [ ERROR | WARNING | INFO ]-->
      <error level="WARNING">
        <!-- Expected error message when the rule is violated. -->
        <message>mets/dmdSec does not exists. It SHOULD be there, it is not a MUST. No descriptive
          metadata section elementname 'dmdSec' found in the file mets.xml in folder 'path' even
          though there SHOULD be one</message>
      </error>
      <corpusPackages>
        <!-- Details of corpus packages designed to test this validation rule. -->
        <package name="IP_18000_CSIP17_1" isValid="TRUE">
          <path>/corpus/structure/dmdSec/IP_18000_CSIP17_1</path>
          <!-- Full description of corpus package features. -->
          <description>A package based on the minimal IP with schemas. Contains no
            dmdSec</description>
        </package>
      </corpusPackages>
    </rule>

    <!-- Rule for consistency between dmdSec and files in the metadata/descriptive folder - can only be a warning due to (too) loose requirement -->
    <rule id="2">
      <!-- Text description of the validation rule -->
      <description>When one or more mets/dmdSec element exist in mets.xml there SHOULD be files in
        the folder metadata/description</description>
      <!-- Details of the validation error generated by the message, can be one of: [ ERROR | WARNING | INFO ]-->
      <error level="WARNING">
        <!-- Expected error message when the rule is violated. -->
        <message>One or more mets/dmdSec elements exist(s). No file(s) found in
          metadata/description. File(s) SHOULD be there, it is not a MUST.</message>
      </error>
      <corpusPackages>
        <!-- Details of corpus packages designed to test this validation rule. -->
        <package name="IP_18000_CSIP17_2" isValid="TRUE">
          <path>/corpus/structure/dmdSec/IP_18000_CSIP17_2</path>
          <!-- Full description of corpus package features. -->
          <description>A package based on the minimal IP with schemas. Contains a dmdSec element in mets.xml. Contains no files in meta/description</description>
        </package>
      </corpusPackages>
    </rule>

    <!-- Rule for consistency between files in the metadata/descriptive folder and dmdSec can only be a warning due to (too) loose requirement -->
    <rule id="3">
      <!-- Text description of the validation rule -->
      <description>When one or more files in the folder metadata/description exist there should be one or more mets/dmdSec element(s) in mets.xml</description>
      <!-- Details of the validation error generated by the message, can be one of: [ ERROR | WARNING | INFO ]-->
      <error level="WARNING">
        <!-- Expected error message when the rule is violated. -->
        <message>One or more file(s) found in metadata/description. There SHOULD be one or more dmdSec elements in mets.xml</message>
      </error>
      <corpusPackages>
        <!-- Details of corpus packages designed to test this validation rule. -->
        <package name="IP_18000_CSIP17_3" isValid="TRUE">
          <path>/corpus/structure/dmdSec/IP_18000_CSIP17_3</path>
          <!-- Full description of corpus package features. -->
          <description>A package based on the minimal IP with schemas. Contains no dmdSec in mets.xml. Contains files in meta/description</description>
        </package>
      </corpusPackages>
    </rule>
  </rules>
</testCase>
